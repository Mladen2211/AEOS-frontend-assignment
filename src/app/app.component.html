<div class="min-h-screen bg-white font-sans">
  <app-header></app-header>

  <main class="bg-white container mx-auto p-6 -mt-1">
    <app-filters (filtersChanged)="onFiltersChanged($event)"></app-filters>

    <section *ngIf="beers$ | async as beers">
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <app-beer-card
          *ngFor="let beer of beers; trackBy: trackByBeer"
          [beer]="beer"
          (toggleFavorite)="toggleFavorite($event)"
          (openDetail)="openBeerDetail($event)">
        </app-beer-card>
      </div>

      <div *ngIf="beers.length === 0" class="text-center py-20">
        <p class="text-xl text-gray-600">No beers match your criteria.</p>
        <p class="text-gray-500">Try adjusting your filters!</p>
      </div>
    </section>

    <div class="text-center mt-8" *ngIf="hasMoreBeers() || (loading$ | async)">
      <button
        *ngIf="!(loading$ | async)"
        (click)="loadMore()"
        class="px-6 py-3 bg-custom-yellow text-gray-800 rounded-lg hover:bg-yellow-300 transition-colors font-medium">
        Load More Beers
      </button>
      <div *ngIf="(loading$ | async)" class="flex items-center justify-center py-4">
        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-custom-yellow"></div>
        <span class="ml-3 text-gray-600">Loading more beers...</span>
      </div>
    </div>
  </main>

  <app-footer></app-footer>

  <button
    *ngIf="showScrollTop"
    (click)="scrollToTop()"
    class="fixed bottom-6 right-6 z-50 text-gray-800 p-3 rounded-full shadow-lg transition-all duration-300 hover:scale-110">
    <img src="scroll-top.svg" alt="Scroll to top" class="w-6 h-6"
         onError="this.onerror=null;this.src='https://placehold.co/24x24/ffc61c/1e1b1b?text=â†‘';">
  </button>
</div>

<app-beer-detail-modal [beer]="selectedBeer" (close)="closeBeerDetail()"></app-beer-detail-modal>